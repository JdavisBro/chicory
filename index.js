const litter = {"found_litter_0_-2_-11_446_299":{"screen":"0_-2_-11","x":446,"y":299},"found_litter_0_-3_-3_375_336":{"screen":"0_-3_-3","x":375,"y":336},"found_litter_0_-3_-6_282_396":{"screen":"0_-3_-6","x":282,"y":396},"found_litter_0_-3_-7_548_883":{"screen":"0_-3_-7","x":548,"y":883},"found_litter_0_-3_10_274_238":{"screen":"0_-3_10","x":274,"y":238},"found_litter_0_-3_2_187_412":{"screen":"0_-3_2","x":187,"y":412},"found_litter_0_-4_11_1228_300":{"screen":"0_-4_11","x":1228,"y":300},"found_litter_0_-4_5_120_144":{"screen":"0_-4_5","x":120,"y":144},"found_litter_0_-4_6_587_393":{"screen":"0_-1_8","x":587,"y":393},"found_litter_0_-4_6_806_438":{"screen":"0_-1_8","x":806,"y":438},"found_litter_0_-4_6_916_347":{"screen":"0_-1_8","x":916,"y":347},"found_litter_0_-4_7_507_854":{"screen":"0_-4_7","x":507.0019,"y":854.0004},"found_litter_0_-6_-6_1744_208":{"screen":"0_-6_-6","x":1744,"y":208},"found_litter_0_-6_7_1025_542":{"screen":"0_-6_7","x":1025,"y":542},"found_litter_0_-6_7_1203_504":{"screen":"0_-6_7","x":1203,"y":504},"found_litter_0_0_-3_295_792":{"screen":"0_0_-3","x":295.0001,"y":792},"found_litter_0_0_5_652_557":{"screen":"0_0_5","x":652,"y":557.0004},"found_litter_0_1_-5_859_343":{"screen":"0_1_-5","x":859,"y":343},"found_litter_0_1_9_1059_341":{"screen":"0_1_9","x":1059,"y":341},"found_litter_0_1_9_489_819":{"screen":"0_1_9","x":489,"y":819},"found_litter_0_1_9_977_620":{"screen":"0_1_9","x":977,"y":620},"found_litter_0_2_-1_1732_66":{"screen":"0_2_-1","x":1732,"y":66},"found_litter_0_2_-6_662_585":{"screen":"0_2_-6","x":662.0002,"y":585},"found_litter_0_2_5_1607_858":{"screen":"0_2_5","x":1607,"y":858},"found_litter_0_3_0_965_458":{"screen":"0_3_0","x":965,"y":458.9998},"found_litter_0_4_-4_1438_380":{"screen":"0_4_-4","x":1438,"y":380.0004},"found_litter_0_4_-6_775_529":{"screen":"0_5_-6","x":775,"y":529},"found_litter_0_4_-7_1542_522":{"screen":"0_4_-7","x":1542,"y":522},"found_litter_0_4_0_1669_383":{"screen":"0_4_0","x":1669,"y":383},"found_litter_0_5_-1_1085_966":{"screen":"0_5_-1","x":1085,"y":966},"found_litter_0_6_-3_1664_782":{"screen":"0_6_-3","x":1664,"y":782},"found_litter_0_6_1_437_239":{"screen":"0_6_1","x":437,"y":239},"found_litter_1_-4_-5_1154_522":{"screen":"1_-4_-5","x":1154,"y":522.0004},"found_litter_1_-4_-5_1214_476":{"screen":"1_-4_-5","x":1214,"y":476.0004},"found_litter_1_4_2_1553_862":{"screen":"1_4_2","x":1553,"y":862},"found_litter_1_5_-5_1008_144":{"screen":"1_5_-5","x":1008,"y":144},"found_litter_1_5_-5_759_416":{"screen":"1_5_-5","x":759,"y":416},"found_litter_2_3_-5_1354_224":{"screen":"2_3_-5","x":1354,"y":224},"found_litter_2_4_-4_1008_960":{"screen":"2_4_-4","x":1008,"y":960},"found_litter_2_4_-6_1080_216":{"screen":"2_4_-6","x":1080,"y":216},"found_litter_2_5_0_1752_517":{"screen":"2_5_0","x":1752,"y":517},"found_litter_2_6_-3_723_522":{"screen":"2_6_-3","x":723,"y":522},"found_litter_2_8_-1_602_479":{"screen":"2_8_-1","x":602,"y":479},"found_litter_2windbomb_126_308":{"screen":"0_-2_-18","x":126.9995,"y":308},"found_litter_2windbomb_148_252":{"screen":"0_-2_-18","x":148.999,"y":252},"found_litter_backflip_1615_459":{"screen":"0_-5_-2","x":1615,"y":459},"found_litter_barleyhouse_1111_420":{"screen":"1_-6_5","x":1111,"y":420},"found_litter_barleyhouse_649_458":{"screen":"1_-6_5","x":649,"y":458},"found_litter_barleyhouse_696_391":{"screen":"1_-6_5","x":696,"y":391},"found_litter_barleyhouse_774_582":{"screen":"1_-6_5","x":774,"y":582},"found_litter_bombelevation_611_539":{"screen":"0_-5_-4","x":611,"y":539},"found_litter_brekkie_phome_279_578":{"screen":"0_5_-3","x":279,"y":578.9997},"found_litter_brekkiebeach_strip_492_962":{"screen":"0_6_0","x":492.999,"y":962},"found_litter_brekkiebeach_strip_671_477":{"screen":"0_6_0","x":671.997,"y":477},"found_litter_canyon_ledgemaze_161_640":{"screen":"0_6_-7","x":161,"y":640},"found_litter_canyon_topstart_1585_858":{"screen":"0_4_-8","x":1585,"y":858},"found_litter_canyonbeach_1686_322":{"screen":"0_6_-4","x":1686.999,"y":322},"found_litter_canyonbeach_467_645":{"screen":"0_6_-4","x":467,"y":645.0004},"found_litter_canyonpool_627_221":{"screen":"0_3_-7","x":627,"y":221.9995},"found_litter_canyonpool_883_443":{"screen":"0_3_-7","x":883,"y":443.9995},"found_litter_cavern_highroad_1022_551":{"screen":"1_5_-6","x":1022,"y":551.9995},"found_litter_cavern_highroad_1248_960":{"screen":"1_5_-6","x":1248,"y":960.0004},"found_litter_cavern_highroad_218_839":{"screen":"1_5_-6","x":218,"y":839.0009},"found_litter_cavern_lowroad2_247_194":{"screen":"1_6_-4","x":247.0009,"y":194.0004},"found_litter_cavern_lowroad2_316_374":{"screen":"1_6_-4","x":316.0009,"y":374.0004},"found_litter_deep2_648_936":{"screen":"2_8_-4","x":648,"y":936},"found_litter_deepbomb1_1176_192":{"screen":"2_5_-5","x":1176,"y":192},"found_litter_dinners_painting_203_197":{"screen":"0_0_-4","x":203,"y":197},"found_litter_dinners_widetop_1581_1012":{"screen":"0_2_-4","x":1581.0004,"y":1012},"found_litter_elevenses1_293_473":{"screen":"0_-4_-4","x":293,"y":473},"found_litter_firstbomb_1525_260":{"screen":"0_-6_-3","x":1525,"y":260},"found_litter_grubdeep_midledge_260_427":{"screen":"2_6_-4","x":260,"y":427},"found_litter_highriver_sidepath_391_235":{"screen":"0_-2_-3","x":391,"y":235},"found_litter_highriver_sidepath_531_245":{"screen":"0_-2_-3","x":531,"y":245},"found_litter_island_clifftr_1416_187":{"screen":"0_1_11","x":1416,"y":187},"found_litter_island_clifftr_1502_227":{"screen":"0_1_11","x":1502,"y":227.0019},"found_litter_island_dup4_1770_232":{"screen":"0_0_14","x":1770.9997,"y":232},"found_litter_island_enter_712_503":{"screen":"0_-5_6","x":712.999,"y":503},"found_litter_island_risefling_499_541":{"screen":"0_-2_12","x":499,"y":541},"found_litter_island_risefling_540_501":{"screen":"0_-2_12","x":540,"y":501.0019},"found_litter_luncheon_ledge_439_498":{"screen":"0_2_1","x":439,"y":498},"found_litter_meadow_cliff_1576_113":{"screen":"0_1_-1","x":1576,"y":113},"found_litter_mtntop_windcloud_94_716":{"screen":"0_-2_-12","x":94.0004,"y":716},"found_litter_nibblecaveentrance_1540_782":{"screen":"0_-2_-1","x":1540,"y":782},"found_litter_potluck_3house_1368_216":{"screen":"0_-5_2","x":1368,"y":216},"found_litter_potluck_north_279_199":{"screen":"0_-6_2","x":279,"y":199},"found_litter_potluck_rivercorner_1492_776":{"screen":"0_-3_3","x":1492,"y":776.0009},"found_litter_potluck_rivercorner_1573_689":{"screen":"0_-3_3","x":1573,"y":689.999},"found_litter_potluck_rivercorner_1593_559":{"screen":"0_-3_3","x":1593,"y":559.9997},"found_litter_potluck_swap_out_156_268":{"screen":"0_-6_3","x":156,"y":268},"found_litter_rainforest_clouds_1005_701":{"screen":"0_5_4","x":1005,"y":701},"found_litter_rainforest_meet_1673_863":{"screen":"0_4_3","x":1673,"y":863.0002},"found_litter_rainforest_top_935_601":{"screen":"0_5_2","x":935,"y":601},"found_litter_rainforest_top_992_569":{"screen":"0_5_2","x":992,"y":569},"found_litter_rainforest_tr_1156_654":{"screen":"0_6_2","x":1156,"y":654},"found_litter_river_geysers_282_904":{"screen":"0_-4_-5","x":282,"y":904},"found_litter_riverhigh_521_928":{"screen":"0_-3_-5","x":521,"y":928},"found_litter_sipsriver_sidepath_75_330":{"screen":"0_-3_0","x":75,"y":330.9999},"found_litter_southisland_639_471":{"screen":"0_-7_6","x":639,"y":471.0009},"found_litter_southsecret_1270_314":{"screen":"0_3_8","x":1270,"y":314},"found_litter_springs_alley_1191_624":{"screen":"1_-5_-7","x":1191,"y":624},"found_litter_springs_alley_246_688":{"screen":"1_-5_-7","x":246,"y":688},"found_litter_springs_alley_406_631":{"screen":"1_-5_-7","x":406,"y":631},"found_litter_springs_town2_1541_494":{"screen":"0_-4_-7","x":1541,"y":494},"found_litter_suppercave_1545_330":{"screen":"0_4_6","x":1545,"y":330.9995},"found_litter_swamp_endpoint_816_321":{"screen":"0_2_7","x":816,"y":321},"found_litter_swamp_islandmaze_312_802":{"screen":"0_-1_6","x":312.0001,"y":802},"found_litter_swamp_phone_1115_255":{"screen":"0_1_6","x":1115,"y":255},"found_litter_swamp_phone_919_356":{"screen":"0_1_6","x":919,"y":356},"found_litter_swampisland_1630_189":{"screen":"0_0_7","x":1630,"y":189},"found_litter_temple_mid_1010_390":{"screen":"2_-6_-1","x":1010,"y":390.9998},"found_litter_temple_mid_898_368":{"screen":"2_-6_-1","x":898,"y":368.9998},"found_litter_temple_path_1704_288":{"screen":"2_-5_-1","x":1704,"y":288},"found_litter_top_waterfall_1360_646":{"screen":"0_-5_-7","x":1360,"y":646},"found_litter_tower_421_204":{"screen":"0_0_0","x":421.0003,"y":204},"found_litter_townhall_base_394_218":{"screen":"0_0_-6","x":394,"y":218.9995},"found_litter_under_meadowbridge_436_435":{"screen":"1_4_-2","x":436,"y":435},"found_litter_under_meadowbridge_456_367":{"screen":"1_4_-2","x":456,"y":367},"found_litter_under_meadowbridge_489_400":{"screen":"1_4_-2","x":489,"y":400},"found_litter_under_springsbridge_1083_626":{"screen":"1_-5_-6","x":1083,"y":626.9995},"found_litter_under_springsbridge_858_628":{"screen":"1_-5_-6","x":858,"y":628.9995},"found_litter_under_springsbridge_981_607":{"screen":"1_-5_-6","x":981,"y":607.9995},"found_litter_woods_altpath_end_521_476":{"screen":"0_4_5","x":521,"y":476.9995},"found_litter_woods_altpath_end_600_312":{"screen":"0_4_5","x":600,"y":312}};
const gifts = {"gift_2windbomb":{"screen":"0_-2_-18","x":1728,"y":528},"gift_backflip":{"screen":"0_-5_-2","x":1080,"y":456},"gift_big_waterfall":{"screen":"0_-3_-2","x":696,"y":552},"gift_bombelevation":{"screen":"0_-5_-4","x":1584,"y":384},"gift_bombisland":{"screen":"0_-3_6","x":408,"y":216},"gift_bounce1":{"screen":"0_1_5","x":1152,"y":360},"gift_brekkiebeach_strip":{"screen":"0_6_0","x":480,"y":744},"gift_canyon_blackpit":{"screen":"0_4_-6","x":336,"y":312},"gift_canyon_entrance":{"screen":"0_6_-5","x":168,"y":480},"gift_canyon_ledgemaze":{"screen":"0_6_-7","x":408,"y":168},"gift_canyon_top":{"screen":"0_4_-10","x":912,"y":912},"gift_canyonpool":{"screen":"0_3_-7","x":480,"y":288},"gift_cave1_1":{"screen":"1_4_4","x":1512,"y":912},"gift_cave1_2":{"screen":"1_3_3","x":504,"y":408},"gift_cave1_hidden":{"screen":"1_5_3","x":624,"y":384},"gift_cave2_1":{"screen":"1_-4_-2","x":696,"y":264},"gift_cave2_2":{"screen":"1_-4_-1","x":1536,"y":336},"gift_cavern_enter1":{"screen":"1_4_-6","x":600,"y":216},"gift_cavern_highroad2":{"screen":"1_6_-6","x":1608,"y":744},"gift_cavern_lowroad":{"screen":"1_5_-4","x":960,"y":288},"gift_cavern_source":{"screen":"1_4_-5","x":1056,"y":336},"gift_deep1":{"screen":"2_8_-5","x":1008,"y":192},"gift_deep2":{"screen":"2_8_-4","x":1800,"y":456},"gift_deepcorner":{"screen":"2_5_-3","x":1704,"y":168},"gift_deepcorridor":{"screen":"2_4_-5","x":1392,"y":864},"gift_deeppaths":{"screen":"2_3_-6","x":240,"y":264},"gift_deepshroom":{"screen":"2_5_-6","x":744,"y":264},"gift_dinners_littletop":{"screen":"0_0_-7","x":960,"y":192},"gift_dinners_skytop":{"screen":"0_2_-7","x":288,"y":456},"gift_dinners_southcave":{"screen":"0_1_-2","x":1416,"y":840},"gift_dinners_widetop":{"screen":"0_2_-4","x":1643,"y":699.0019},"gift_elevenses3":{"screen":"0_-4_-2","x":264,"y":312},"gift_elevenses_cave":{"screen":"1_-3_-4","x":672,"y":432},"gift_flower1":{"screen":"0_2_2","x":192,"y":216},"gift_foothill_entrance":{"screen":"0_-5_1","x":480,"y":168},"gift_foothill_shrooms":{"screen":"0_-6_-2","x":1584,"y":240},"gift_foothills_ledgefall":{"screen":"0_-5_-3","x":936,"y":216},"gift_guzzleriver_corner":{"screen":"0_5_0","x":1128,"y":288},"gift_guzzleriver_source":{"screen":"0_4_-3","x":1392,"y":648},"gift_hidden_brewpathtop":{"screen":"1_0_-2","x":1248,"y":432},"gift_highriver_sidepath":{"screen":"0_-2_-3","x":480,"y":168},"gift_island1":{"screen":"0_-5_8","x":144,"y":456},"gift_island_cliff1":{"screen":"0_-1_11","x":144,"y":528},"gift_island_dup2":{"screen":"0_-5_10","x":1416,"y":240},"gift_island_flower":{"screen":"0_2_12","x":576,"y":192},"gift_island_hop":{"screen":"0_-3_5","x":864,"y":600},"gift_island_shroom":{"screen":"0_-3_11","x":216,"y":216},"gift_lab":{"screen":"1_4_-3","x":408,"y":840},"gift_lemon":{"screen":"0_1_1","x":1776,"y":600},"gift_luncheonledge":{"screen":"0_-1_-1","x":672,"y":432},"gift_macaroon":{"screen":"0_-1_1","x":480,"y":312},"gift_meadow_cliff":{"screen":"0_1_-1","x":1056,"y":384},"gift_meadowgate":{"screen":"0_3_-3","x":408,"y":432},"gift_mountain_top_cave":{"screen":"1_-5_-22","x":1056,"y":408},"gift_mtn_highcorner":{"screen":"0_-6_-5","x":648,"y":888},"gift_mtn_waterfall":{"screen":"0_-5_-5","x":1344,"y":432},"gift_mtntop_windcloud":{"screen":"0_-2_-12","x":960,"y":384},"gift_mtntrail1":{"screen":"0_-2_-4","x":720,"y":720},"gift_mtntrail2":{"screen":"0_-1_-4","x":192,"y":624},"gift_mtntrail3":{"screen":"0_-1_-5","x":984,"y":456},"gift_peak_entrance":{"screen":"0_-2_-7","x":288,"y":600},"gift_peak_wall":{"screen":"0_-4_-21","x":1644,"y":862},"gift_potluck_beach":{"screen":"0_-5_4","x":1056,"y":672},"gift_potluck_north":{"screen":"0_-6_2","x":552.0009,"y":384},"gift_rainforest_bomb":{"screen":"0_5_5","x":1320,"y":120},"gift_rainforest_br":{"screen":"0_6_3","x":984,"y":240},"gift_rainforest_clouds":{"screen":"0_5_4","x":144,"y":216},"gift_rainforest_meet":{"screen":"0_4_3","x":576,"y":768},"gift_rainforest_platforms":{"screen":"0_7_2","x":1320,"y":312},"gift_rainforest_tl":{"screen":"0_4_2","x":240,"y":456},"gift_river_triangle":{"screen":"0_-2_4","x":1248,"y":504},"gift_riverhigh":{"screen":"0_-3_-5","x":912,"y":480},"gift_ruins_bomb1":{"screen":"1_-7_-3","x":1512,"y":384},"gift_ruins_bomb2":{"screen":"1_-5_-1","x":864,"y":408},"gift_ruins_bombmaze":{"screen":"2_-5_0","x":984,"y":504},"gift_ruins_nature":{"screen":"2_-7_-1","x":264,"y":672},"gift_secret_waterfall":{"screen":"0_-3_-1","x":1272,"y":720},"gift_shroom_growflower":{"screen":"0_3_3","x":240,"y":744},"gift_sipsriver_sidepath":{"screen":"0_-3_0","x":1512,"y":384},"gift_southisland":{"screen":"0_-7_6","x":768,"y":240},"gift_southsecret":{"screen":"0_3_8","x":1464,"y":120},"gift_suppercave":{"screen":"0_4_6","x":504,"y":216},"gift_supperdeadend":{"screen":"0_3_4","x":696,"y":792},"gift_supperfall":{"screen":"0_3_5","x":648,"y":720},"gift_supperpath":{"screen":"0_2_4","x":1008,"y":648},"gift_swamp_boat":{"screen":"0_0_6","x":168,"y":623.9995},"gift_swamp_endpoint":{"screen":"0_2_7","x":720,"y":912},"gift_swamp_islandmaze":{"screen":"0_-1_6","x":1728,"y":384},"gift_swampcorner":{"screen":"0_2_6","x":816,"y":192},"gift_swampfling":{"screen":"0_-1_7","x":552,"y":744},"gift_swimtutsecret":{"screen":"2_-1_-4","x":1128,"y":528},"gift_top_waterfall":{"screen":"0_-5_-7","x":408,"y":288},"gift_townhall_base":{"screen":"0_0_-6","x":144,"y":600},"gift_under_sipsbridge":{"screen":"1_-2_2","x":480,"y":600},"gift_under_swampbridge":{"screen":"1_-2_6","x":1296,"y":360},"gift_woods_altpath_end":{"screen":"0_4_5","x":1296,"y":720},"gift_woods_bonus":{"screen":"0_5_6","x":1032,"y":336},"gift_woods_hiddencave":{"screen":"1_5_6","x":648,"y":432}};
const mapCentres = {0: {"small": [2304, 2700]},1: {"small": [2304, 2376]},2: {"small": [1344, 648]}}
const mapGridDivs = {"small": 10}

var saveJson = {};
var currentMap = 0
var currentMapSize = "small"
var sb = null

document.getElementById('file').onchange = function(){
    var file = this.files[0];
    var reader = new FileReader();
    reader.onload = function(progressEvent){
        saveJson = JSON.parse(this.result.split('\n')[3]);
        change()
    };
    reader.readAsText(file);
};

function change() {
    var markers = document.getElementById("litterMarkers");
    var marker = document.createElement("img");
    marker.src = "assets/markers/litter.png";
    marker.style.position = "absolute";
    marker.style.height = "20px";
    markers.innerHTML = "";
    var list = document.getElementById("litterList");
    list.innerHTML = "<p>Litter:</p>";
    for (const key in litter) {
        var screen = litter[key]["screen"].split("_");
        if (!saveJson.hasOwnProperty(key) & screen[0] == currentMap) {
            addMarker(key,litter[key],screen,markers,marker,list);
        }
    }
    var markers = document.getElementById("giftMarkers");
    var marker = document.createElement("img");
    marker.src = "assets/markers/gifts.png";
    marker.style.position = "absolute";
    marker.style.height = "20px";
    markers.innerHTML = "";
    var list = document.getElementById("giftList");
    list.innerHTML = "<p>Gifts:</p>";
    for (const key in gifts) {
        var screen = gifts[key]["screen"].split("_");
        if (!saveJson.hasOwnProperty(key) & screen[0] == currentMap) {
            addMarker(key,gifts[key],screen,markers,marker,list);
        }
    }
}

function addMarker(key,locationData,screen,markers,marker,list) {
    var posX = mapCentres[currentMap][currentMapSize][0] + (1920/mapGridDivs[currentMapSize]*Number(screen[1])) + locationData["x"]/mapGridDivs[currentMapSize];
    var posY = mapCentres[currentMap][currentMapSize][1] + (1080/mapGridDivs[currentMapSize]*Number(screen[2])) + locationData["y"]/mapGridDivs[currentMapSize];
    marker.style.left = posX-10 + "px";
    marker.style.top = posY-10 + "px";
    marker.id = key;
    var tempMark = marker.cloneNode()
    tempMark.addEventListener("click",selectMarker);
    markers.appendChild(tempMark);
    var listElem = document.createElement("a");
    listElem.href = "#";
    listElem.innerHTML = key.replaceAll("found_litter_","").replaceAll("gift_","").replaceAll("_"," ") + "<br>";
    listElem.setAttribute("markerPosX", posX);
    listElem.setAttribute("markerPosY", posY);
    listElem.setAttribute("markerId", key);
    list.appendChild(listElem);
    listElem.addEventListener("click",function(e) {
        var view = document.getElementById("mapview");
        sb.scrollTo({x: e.target.getAttribute("markerPosX")-view.offsetWidth/2, y: e.target.getAttribute("markerPosY")-view.offsetHeight/2});
        selectMarker(e,true)
    })

}

function changeLayer(layer) {
    currentMap = layer;
    document.getElementById("mapImg").src = "assets/maps/"+layer+"/"+currentMapSize+".png"
    change();
    toCenter();
}

function toCenter() {
    const viewport = document.getElementById("mapview")
    sb.scrollTo({x: mapCentres[currentMap][currentMapSize][0]-viewport.offsetWidth/2+(1920/mapGridDivs[currentMapSize])/2,y: mapCentres[currentMap][currentMapSize][1]-viewport.offsetHeight/2+(1080/mapGridDivs[currentMapSize])/2});
}

function selectMarker(e,t=false) {
    var target = e.target;
    if (t) {
        target = document.getElementById(e.target.getAttribute("markerId"));
    }
    var selMarkers = document.getElementsByClassName("selectedMarker");
    for (let i = 0;i<selMarkers.length;i++) {
        selMarkers[i].classList.remove("selectedMarker");
    }
    target.classList.add("selectedMarker")
}

function makeMap() {
    const map = document.getElementById("map");
    const viewport = document.getElementById("mapview")

    sb = new ScrollBooster({
        viewport,
        map,
        scrollMode: 'transform',
        emulateScroll: false,
        textSelection: true
    });      
    sb.setPosition({
      x: mapCentres[currentMap][currentMapSize][0]-viewport.offsetWidth/2+(1920/mapGridDivs[currentMapSize])/2,
      y: mapCentres[currentMap][currentMapSize][1]-viewport.offsetHeight/2+(1080/mapGridDivs[currentMapSize])/2
    });
    change();
}

window.addEventListener("load",makeMap);